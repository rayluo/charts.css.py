<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Charts.css.py Online Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/charts.css/dist/charts.min.css">
    <style>
    .charts-css {  /* You have to use this class name */
      height: 400px;  /* Most charts need some height to operate */
      width: 80%;  /* Optional */
      margin: 0 auto;  /* Optional */
    }
    .charts-css.legend.legend-inline {  /* You have to use this class name */
      height: 3em;  /* Optional */
    }
    /* TBD
    .line th {
      align-items: end;
    }
    */
    pre {
      margin-left: 2em;
      background-color: #eee;
    }
    code {
      background-color: #eee;
    }
    </style>
  </head>
  <body id="body" onload="brython()" class="container">

<h1>Charts.css.py Online Document</h1>

<h2>Introduction</h2>
<p>
As implied by its name, <code>charts.css.py</code> brings <code>charts.css</code> to Python.
</p>
<p>
<a href="https://chartscss.org/" target=_blank>Charts.css</a> is a pure-CSS data visualization framework,
which allows your HTML table to be rendered as a chart inside browser.
It offers <a href="https://chartscss.org/docs/#alternatives" target=_blank>advantages over traditional JS-heavy chart libraries</a>.
</p>
<p>
<code>charts.css.py</code> provides a pythonic API to convert your 2-dimension lists into html table,
so that you can largely avoid working directly at HTML and CSS level.
The output of <code>charts.css.py</code> is not an image,
but an HTML snippet for you to insert into your html page,
which will be rendered by <code>charts.css</code>.
</p>

<section class="sample">
<h2>Bar chart with single dataset</h2>
Let's start this document with a simple sample.
Our first sample shows the basic usage pattern, visualizing single dataset with default effect.
You still need to organize your single dataset as a 2-dimension list.
<pre></pre>
<script type="text/python">
from charts.css import bar
chart = bar(
    [
        [1],
        [2],
        [4],
        [6],
        [8],
        [10],
    ],
    )
## Note: The following one-row approach happens to generate a chart looks the same.
#        However, we would recommend the one-column approach,
#        because it aligns better with the rest of our other samples.
# chart = bar([[1, 2, 4, 6, 8, 10]])
#
# Now, variable chart contains html snippet of "< table >...< /table >",
# which you can somehow insert into the proper place of your html page.
# Consider the following 2 lines as pseudo-code.
from browser import document
document["bar1r_output"].html = chart
</script>
<div id="bar1r_output">Loading......</div>
</section>

<h2>Installation</h2>
If you are working on a normal Python project, you can install by <code>pip</code>:
<pre>pip install charts.css.py</pre>
If your project is powered by Brython, you can choose to use our JS package.
(The version number below might not be up-to-date. Please get latest version from
<a href="https://github.com/rayluo/charts.css.py/releases" target=_blank>Release page</a>.)
<pre>
&lt;script src="https://github.com/rayluo/charts.css.py/releases/download/0.3.0/charts.css.py-brython.js"&gt;&lt;/script&gt;
</pre>

<h2>Configuration</h2>
First of all, insert this snippet into your html page,
typically inside the &lt;head&gt;...&lt;/head&gt; tag:
<pre>
&lt;link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/charts.css/dist/charts.min.css"&gt;
&lt;style&gt;
.charts-css {  /* You have to use this class name */
  height: 400px;  /* Most charts need some height to operate */
  width: 80%;  /* Optional */
  margin: 0 auto;  /* Optional */
}
.charts-css.legend.legend-inline {  /* You have to use this class name */
  height: 3em;  /* Optional */
}
&lt;/style&gt;
</pre>

<h2>Data Format</h2>
All chart functions in <code>charts.css.py</code> have a unified data format as a 2-dimension list,
optionally with headers in the first column and/or first row. They look like this:
<pre>
data = [
    ["Continent", "1st year", "2nd year", "3rd year", "4th year", "5th year"],
    ["Asia", 20.0, 30.0, 40.0, 50.0, 75.0],
    ["Euro", 40.0, 60.0, 75.0, 90.0, 100.0],
    ]
</pre>
Even when you are working with one-dimension data,
you would still need to format them as 2-dimension list, which contains one column:
<pre>
data = [
    [20.0],
    [40.0],
    ]
</pre>
Some charts can also work with one row:
<pre>
data = [
    [20.0, 30.0, 40.0, 50.0, 75.0],
    ]
</pre>

<section class="sample">
<h2>Bar chart with single dataset and headers</h2>
<p>
Same raw data as the previous sample, now with headers.
The headers in first column are visible in chart, but headers in first row are not.
</p>
<p>
This sample also demonstrates lots of optional effects.
Unless stated otherwise, all the chart functions
(<code>bar()</code>, <code>column()</code>, <code>line()</code> and <code>area()</code>)
support same parameters.
</p>
<pre></pre>
<script type="text/python">
from charts.css import bar
chart = bar(
    [
        ["Month", "Amount"],  # Header row is actually not rendered in chart
        ["Jan", 1],
        ["Feb", 2],
        ["Mar", 4],
        ["Apr", 6],
        ["May", 8],
        ["Jun", 10],
    ],
    headers_in_first_row=True,
    headers_in_first_column=True,
    hide_data=True,
    show_data_on_hover=True,
    heading="My Bank Account Balance",
    value_displayer=lambda value: "${}K".format(value),
    show_secondary_axes=10,
    data_spacing=15,
    )
# Now, variable chart contains html snippet of "< table >...< /table >",
# which you can somehow insert into the proper place of your html page.
# Consider the following 2 lines as pseudo-code.
from browser import document
document["bar1c_output"].html = chart
</script>
<div id="bar1c_output">Loading......</div>
</section>

<section class="sample">
<h2>Column chart with multiple datasets</h2>
Multiple datasets mean there are multiple columns from your 2-dimension list input.
<pre></pre>
<script type="text/python">
from charts.css import (
    column,
    LegendCircle, LegendEllipse, LegendSquare, LegendRectangle, LegendRhombus, LegendLine)
chart = column(
    [
        ["Continent", "1st year", "2nd year", "3rd year", "4th year", "5th year"],
        ["Asia", 20.0, 30.0, 40.0, 50.0, 75.0],
        ["Euro", 40.0, 60.0, 75.0, 90.0, 100.0],
        ["America", 50, 50, 30, 20, 25],
        ["Africa", 20, 20, 20, 20, 20],
    ],
    headers_in_first_row=True,
    headers_in_first_column=True,
    data_spacing=20,
    datasets_spacing=4,
    heading="Charts.css.py global sales volume",
    legend=LegendCircle,  # Legend is meaningful when you have multiple datasets with headers
    legend_inline=True,  # Optional
    value_displayer="${}K".format,  # More convenient than a lambda
    )
# Now, variable chart contains html snippet of "< table >...< /table >",
# which you can somehow insert into the proper place of your html page.
# Consider the following 2 lines as pseudo-code.
from browser import document
document["column_output"].html = chart
</script>
<div id="column_output">Loading......</div>
</section>

<section class="sample">
<h2>Column chart, stacked by face value</h2>
<code>bar()</code> and <code>column()</code> support a boolean parameter <code>stacked</code>.
Simply enable that, you will get a stacked bar chart (or column chart).
<pre></pre>
<script type="text/python">
from charts.css import (
    column,
    LegendCircle, LegendEllipse, LegendSquare, LegendRectangle, LegendRhombus, LegendLine)
chart = column(
    [
        ["Continent", "1st year", "2nd year", "3rd year", "4th year", "5th year"],
        ["Asia", 20.0, 30.0, 40.0, 50.0, 75.0],
        ["Euro", 40.0, 60.0, 75.0, 90.0, 100.0],
        ["America", 50, 50, 30, 20, 25],
        ["Africa", 20, 20, 20, 20, 20],
    ],
    stacked=True,  # <-- This generates the stacked chart
    headers_in_first_row=True,
    headers_in_first_column=True,
    data_spacing=20,
    heading="Charts.css.py global sales volume",
    legend=LegendEllipse,  # Legend is meaningful when you have multiple datasets with headers
    legend_inline=True,  # Optional
    value_displayer="${}K".format,  # More convenient than a lambda
    )
# Now, variable chart contains html snippet of "< table >...< /table >",
# which you can somehow insert into the proper place of your html page.
# Consider the following 2 lines as pseudo-code.
from browser import document
document["column_stacked_output"].html = chart
</script>
<div id="column_stacked_output">Loading......</div>
</section>

<section class="sample">
<h2>Column chart, stacked by percentage</h2>
A <code>percentage=True</code> can switch stacked column or bar chart to percentage view.
<pre></pre>
<script type="text/python">
from charts.css import (
    column,
    LegendCircle, LegendEllipse, LegendSquare, LegendRectangle, LegendRhombus, LegendLine)
chart = column(
    [
        ["Continent", "1st year", "2nd year", "3rd year", "4th year", "5th year"],
        ["Asia", 20.0, 30.0, 40.0, 50.0, 75.0],
        ["Euro", 40.0, 60.0, 75.0, 90.0, 100.0],
        ["America", 50, 50, 30, 20, 25],
        ["Africa", 20, 20, 20, 20, 20],
    ],
    stacked=True,  # <-- This generates the stacked chart
    percentage=True,  # <-- This stacks each cell by its percentage in its dataset
    headers_in_first_row=True,
    headers_in_first_column=True,
    data_spacing=20,
    heading="Charts.css.py global sales volume",
    legend=LegendSquare,  # Legend is meaningful when you have multiple datasets with headers
    legend_inline=True,  # Optional
    value_displayer="${}K".format,  # More convenient than a lambda
    )
# Now, variable chart contains html snippet of "< table >...< /table >",
# which you can somehow insert into the proper place of your html page.
# Consider the following 2 lines as pseudo-code.
from browser import document
document["column_stacked_percentage_output"].html = chart
</script>
<div id="column_stacked_percentage_output">Loading......</div>
</section>

<section class="sample">
<h2>Line chart</h2>
Line charts display raw data connected with a straight line.
The input is still a 2-dimension list.
Note that each vertical "column" - rather than the horizontal "row" - is rendered as a horizontal line.
<pre></pre>
<script type="text/python">
from charts.css import line, LegendRectangle
chart = line(
    [
        ["Date", "AAPL", "MSFT", "ORCL", "QCOM", "CSCO"],
        ["Jan 1", 150.0, 140.0, 200.0, 50.0, 175.0],
        ["Feb 1", 110.0, 260.0, 75.0, 90.0, 100.0],
        ["Mar 1", 125.43, 245.17, 79.03, 151.46, 52.43],
    ],
    headers_in_first_row=True,
    headers_in_first_column=True,
    legend=LegendRectangle,  # Legend is meaningful when you have multiple datasets with headers
    legend_inline=True,
    heading="Investment Portfolio",
    )
# Now, variable chart contains html snippet of "< table >...< /table >",
# which you can somehow insert into the proper place of your html page.
from browser import document
document["line_output"].html = chart
</script>
<div id="line_output">Loading......</div>
</section>

<section class="sample">
<h2>Area</h2>
Area charts work similar to line charts, plus they display raw data with colors between axis and line.
<pre></pre>
<script type="text/python">
from charts.css import area, LegendRhombus
chart = area(
    [
        ["Date", "AAPL", "MSFT", "ORCL"],
        ["Jan 1", 150.0, 140.0, 200.0],
        ["Feb 1", 110.0, 260.0, 75.0],
        ["Mar 1", 125.43, 245.17, 79.03],
    ],
    headers_in_first_row=True,
    headers_in_first_column=True,
    legend=LegendRhombus,  # Legend is meaningful when you have multiple datasets with headers
    legend_inline=True,
    heading="Investment Portfolio",
    )
# Now, variable chart contains html snippet of "< table >...< /table >",
# which you can somehow insert into the proper place of your html page.
from browser import document
document["area_output"].html = chart
</script>
<div id="area_output">Loading......</div>
</section>

<script>
document.querySelectorAll("section.sample").forEach(section=>{
  section.querySelector("pre").innerHTML = section.querySelector("script").innerHTML;
});
</script>

    <script src="https://cdn.jsdelivr.net/npm/brython@3/brython.min.js"></script>
    <script src="https://github.com/rayluo/charts.css.py/releases/download/0.3.0/charts.css.py-brython.js"></script>

  </body>
</html>

